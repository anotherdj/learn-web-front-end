<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>地理定位geolocation</title>
</head>

<body>
	<p id="demo">点击按钮获取你当前的坐标（可能需要较长时间获取）：</p>
    <button onClick="getLocation()">点我</button>
	<div id="mapholder"></div>
	<script>
		var x=document.getElementById("demo");
		function getLocation()
		{
			if (navigator.geolocation)
				{
					navigator.geolocation.getCurrentPosition(showPosition,showError);
				}
			else{
				    x.innerHTML="该浏览器不支持地理位置。"；
			    }
		}
		
		function showPosition(position)
		{
			x.innerHTML="纬度：" + position.coords.latitude + "<br />经度：" + position.coords.longitude;
		}
		
		function shwoError(error)
		{
			switch(error.code)
			{
				case error.PERMISSION_DENIED:
					x.innerHTML="用户拒绝对获取地理位置的请求。"
					break;
				case error.POSITION_UNAVAILABLE:
					x.innerHTML="位置信息是不可用的。"
					break;
				case error.TIMEOUT:
					x.innerHTML="请求用户地理位置超时。"  
					break;
				case error.UNKNOWN_ERROR:
					x.innerHTML="位置错误。"
					break;
			}
		}
		</script>
</body>
</html>
